{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API route handler for retrieving knowledge base items by company. It processes incoming requests, sanitizes parameters, reads content from data files, and returns responses in JSON format.", "external_files": ["next/server", "fs", "path", "@/lib/config"], "external_methods": ["NextResponse.json", "fs.existsSync", "fs.readFileSync"], "published": [], "classes": [], "methods": [{"name": "export async function GET( GET", "description": "Handles GET requests to fetch a company knowledge item, returning content in text or JSON format based on query parameters.", "scope": "", "scopeKind": ""}], "calls": ["path.join", "fs.existsSync", "fs.readFileSync", "NextResponse.json"], "search-terms": ["GET /api/knowledge/item/[company]", "knowledge base fetch", "company route handler", "file content retrieval", "NextRequest", "NextResponse", "parameters validation"], "state": 2, "file_id": 59, "knowledge_revision": 137, "git_revision": "edf1371341470e48b22d6de525292a7208cf69d9", "revision_history": [{"119": ""}, {"137": "edf1371341470e48b22d6de525292a7208cf69d9"}], "ctags": [{"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^export async function GET($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "company", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const company = params?.company;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const content = fs.readFileSync(filePath, \"utf8\");$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "filePath", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const filePath = path.join(process.cwd(), \"data\", `${safeName}.txt`);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "format", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const format = (req.nextUrl.searchParams.get(\"format\") || \"text\").toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "safeName", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const safeName = company.replace(\\/[^a-z0-9_-]\\/gi, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}], "hash": "0b757175d0921ceec2eb5f6daec55443", "format-version": 4, "code-base-name": "connecto-v1", "filename": "src/app/api/knowledge/item/[company]/route.ts"}