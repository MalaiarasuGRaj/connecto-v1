{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API route for fetching knowledge base items associated with a specific company. It handles HTTP GET requests, processes parameters, reads corresponding text files from disk, and returns the content in either plain text or JSON format. It also incorporates logging and error handling.", "external_files": ["next/server", "fs", "path", "@/lib/logger"], "external_methods": ["NextResponse.json", "fs.existsSync", "fs.readFileSync"], "published": ["GET"], "classes": [], "methods": [{"name": "GET", "description": "Asynchronous function handling the GET request, fetching the company knowledge item, reading its content, and responding accordingly."}], "calls": ["withApiLogging", "path.join", "fs.existsSync", "fs.readFileSync", "NextResponse.json"], "search-terms": ["knowledge item route", "company file fetch", "get knowledge content", "company-specific data", "next/api route"], "state": 2, "file_id": 59, "knowledge_revision": 144, "git_revision": "75158debfc5dd420aa6575873052d9de88461016", "revision_history": [{"119": ""}, {"137": "edf1371341470e48b22d6de525292a7208cf69d9"}, {"144": "75158debfc5dd420aa6575873052d9de88461016"}], "ctags": [{"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^export const GET = withApiLogging(async (req: NextRequest, log) => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^    const content = fs.readFileSync(filePath, \"utf8\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "filePath", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^  const filePath = path.join(process.cwd(), \"data\", `${safeName}.txt`);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "safeName", "path": "/home/kavia/workspace/code-generation/connecto-v1/src/app/api/knowledge/item/[company]/route.ts", "pattern": "/^  const safeName = company.replace(\\/[^a-z0-9_-]\\/gi, \"\");$/", "language": "TypeScript", "kind": "constant"}], "hash": "d76ea9584e3d8194f2ff48d5ee008471", "format-version": 4, "code-base-name": "connecto-v1", "filename": "src/app/api/knowledge/item/[company]/route.ts"}